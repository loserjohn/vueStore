(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-features-bank-newBank-newBank"],{"20e8":function(e,t,r){var a=r("24fb");t=a(!1),t.push([e.i,".pages[data-v-71665f5c]{width:100%;min-height:100vh}.pages .title[data-v-71665f5c]{padding:%?24?% %?20?%}.pages .bankBox[data-v-71665f5c]{background:#fff;padding:0 %?20?%;margin-bottom:%?16?%}.pages .bankBox .inputBox[data-v-71665f5c]{line-height:%?88?%;height:%?88?%;border-bottom:%?1?% solid #e5e5e5}.pages .bankBox .inputBox[data-v-71665f5c]:last-child{border-bottom:none}.pages .bankBox .inputBox .label[data-v-71665f5c]{width:%?172?%}.pages .bankBox .inputBox .getYZM[data-v-71665f5c]{height:%?56?%;padding:0 %?20?%;border-radius:%?28?%;background:var(--cl_primary);color:#fff;font-size:%?24?%}",""]),e.exports=t},"21c8":function(e,t,r){"use strict";r.r(t);var a=r("fa26"),n=r("ae57");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("997a");var s,u=r("f0c5"),o=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"71665f5c",null,!1,a["a"],s);t["default"]=o.exports},"301b4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=[{value:"ICBC",text:"中国工商银行"},{value:"ABC",text:"中国农业银行"},{value:"BOC",text:"中国银行"},{value:"CCB",text:"中国建设银行"},{value:"PSBC",text:"中国邮政储蓄银行"},{value:"COMM",text:"交通银行"},{value:"CMB",text:"招商银行"},{value:"SPDB",text:"上海浦东发展银行"},{value:"CIB",text:"兴业银行"},{value:"HXBANK",text:"华夏银行"},{value:"GDB",text:"广东发展银行"},{value:"CMBC",text:"中国民生银行"},{value:"CITIC",text:"中信银行"},{value:"CEB",text:"中国光大银行"},{value:"SPABANK",text:"平安银行"},{value:"FJHXBC",text:"福建海峡银行"}],n=a;t.default=n},"71d9":function(e,t,r){var a=r("20e8");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("4f06").default;n("9915afc0",a,!0,{sourceMap:!1,shadowMode:!1})},"997a":function(e,t,r){"use strict";var a=r("71d9"),n=r.n(a);n.a},ae57:function(e,t,r){"use strict";r.r(t);var a=r("c649"),n=r.n(a);for(var i in a)"default"!==i&&function(e){r.d(t,e,(function(){return a[e]}))}(i);t["default"]=n.a},ba00:function(e,t,r){"use strict";r("c975"),r("a9e3"),r("4d63"),r("ac1f"),r("25f0"),r("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={error:"",check:function(e,t){for(var r=0;r<t.length;r++){if(!t[r].checkType)return!0;if(!t[r].name)return!0;if(!t[r].errorMsg)return!0;if(!e[t[r].name])return this.error=t[r].errorMsg,!1;switch(t[r].checkType){case"string":var a=new RegExp("^.{"+t[r].checkRule+"}$");if(!a.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"int":a=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[r].checkRule+"}$");if(!a.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[r].name]))return this.error=t[r].errorMsg,!1;var n=t[r].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[t[r].name]>n[1]||e[t[r].name]<n[0])return this.error=t[r].errorMsg,!1;break;case"betweenD":a=/^-?[1-9][0-9]?$/;if(!a.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;n=t[r].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[t[r].name]>n[1]||e[t[r].name]<n[0])return this.error=t[r].errorMsg,!1;break;case"betweenF":a=/^-?[0-9][0-9]?.+[0-9]+$/;if(!a.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;n=t[r].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[t[r].name]>n[1]||e[t[r].name]<n[0])return this.error=t[r].errorMsg,!1;break;case"same":if(e[t[r].name]!=t[r].checkRule)return this.error=t[r].errorMsg,!1;break;case"notsame":if(e[t[r].name]==t[r].checkRule)return this.error=t[r].errorMsg,!1;break;case"email":a=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!a.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"phoneno":a=/^1[0-9]{10,10}$/;if(!a.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"zipcode":a=/^[0-9]{6}$/;if(!a.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"reg":a=new RegExp(t[r].checkRule);if(!a.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"in":if(-1==t[r].checkRule.indexOf(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"notnull":if(null==e[t[r].name]||e[t[r].name].length<1)return this.error=t[r].errorMsg,!1;break}}return!0},isNumber:function(e){return e=Number(e),NaN!=e}},n=a=a;t.default=n},c649:function(e,t,r){"use strict";(function(e){var a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var n=a(r("1da1")),i=a(r("3735")),s=a(r("301b4")),u=a(r("ba00")),o={data:function(){return{formParams:{bank_user:"",bank_num:"",open_bank:"",vilidate:"000000",bank_opening:""},bankList:s.default,index:0,loading:!1}},computed:{accountInfo:function(){return this.$store.state.accountInfo}},components:{InputGrouds:i.default},onLoad:function(){},methods:{_focusHandle:function(){},bindPickerChange:function(e){var t=e.target.value;this.index=t,this.formParams.open_bank=this.bankList[t].text,this.formParams.bank_opening=this.bankList[t].text},href:function(){uni.navigateTo({url:"../exchange/exchange"})},submit:function(){var e=[{name:"bank_user",checkType:"string",checkRule:"1,",errorMsg:"请输入开户人姓名"},{name:"bank_num",checkType:"int",checkRule:"15,",errorMsg:"请输入有效银行卡号"},{name:"open_bank",checkType:"string",checkRule:"1,",errorMsg:"请选择所属"},{name:"bank_opening",checkType:"string",checkRule:"1,",errorMsg:"请选择开户行"}],t=this.formParams,r=u.default.check(t,e);r?this._addBank():this.$ui.toast(u.default.error)},_addBank:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t,r.prev=1,t.loading=!0,r.next=5,t.$api.BuilderBank(t.formParams,!1);case 5:n=r.sent,t.loading=!1,1==n.result?(a.$ui.toast("绑定成功"),uni.$emit("refresh_bank"),setTimeout((function(){uni.navigateBack({})}),1e3)):a.$ui.toast(n.msg),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](1),e.log("请求结果false : "+r.t0);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()}}};t.default=o}).call(this,r("5a52")["default"])},fa26:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a}));var a={tuiIcon:r("1b57").default,tuiButton:r("2de0").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"pages"},[r("v-uni-view",{staticClass:"title"},[e._v("请填写持卡人信息")]),r("v-uni-view",{staticClass:"bankBox"},[r("v-uni-view",{staticClass:"inputBox flex flex_center"},[r("v-uni-view",{staticClass:"label"},[e._v("持卡人")]),r("v-uni-input",{staticClass:"f1",attrs:{type:"text",placeholder:"请输入持卡人",name:"bank_user"},model:{value:e.formParams.bank_user,callback:function(t){e.$set(e.formParams,"bank_user",t)},expression:"formParams.bank_user"}})],1),r("v-uni-view",{staticClass:"inputBox flex flex_center"},[r("v-uni-view",{staticClass:"label"},[e._v("银行卡号")]),r("v-uni-input",{staticClass:"f1",attrs:{type:"number",name:"bank_num",placeholder:"请输入银行卡号"},model:{value:e.formParams.bank_num,callback:function(t){e.$set(e.formParams,"bank_num",t)},expression:"formParams.bank_num"}})],1),r("v-uni-view",{staticClass:"inputBox flex flex_center"},[r("v-uni-view",{staticClass:"label"},[e._v("所属银行")]),r("v-uni-view",{staticClass:"f1"},[r("v-uni-picker",{attrs:{value:e.index,range:e.bankList,"range-key":"text"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-input "},[e._v(e._s(e.formParams.open_bank?e.formParams.open_bank:"请选择开户行"))])],1)],1),r("tui-icon",{staticStyle:{"margin-left":"20rpx"},attrs:{name:"arrowright",size:20,color:"#333"}})],1),r("v-uni-view",{staticClass:"inputBox flex flex_center"},[r("v-uni-view",{staticClass:"label"},[e._v("开户行")]),r("v-uni-input",{staticClass:"f1",attrs:{type:"text",name:"bank_opening",placeholder:"请输入开户行"},model:{value:e.formParams.bank_opening,callback:function(t){e.$set(e.formParams,"bank_opening",t)},expression:"formParams.bank_opening"}})],1)],1),r("v-uni-view",{staticStyle:{padding:"72rpx 30rpx"}},[r("tui-button",{attrs:{type:"primary",shape:"circle",disabled:!1,loading:e.loading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("确认添加")])],1)],1)},i=[]}}]);