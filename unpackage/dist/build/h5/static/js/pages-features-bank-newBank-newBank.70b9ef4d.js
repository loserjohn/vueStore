(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-features-bank-newBank-newBank"],{"220e":function(e,t,a){var r=a("839d");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("4f06").default;n("b77d91ac",r,!0,{sourceMap:!1,shadowMode:!1})},"34cf":function(e,t,a){"use strict";var r=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var n=r(a("1da1")),i=r(a("923f")),s=r(a("3605")),u=r(a("6ab2")),o={data:function(){return{formParams:{bank_user:"",bank_num:"",open_bank:"",vilidate:"000000",bank_opening:""},bankList:s.default,index:0,loading:!1}},computed:{accountInfo:function(){return this.$store.state.accountInfo}},components:{InputGrouds:i.default},onLoad:function(){},methods:{_focusHandle:function(){},bindPickerChange:function(e){var t=e.target.value;this.index=t,this.formParams.open_bank=this.bankList[t].text,this.formParams.bank_opening=this.bankList[t].text},href:function(){uni.navigateTo({url:"../exchange/exchange"})},submit:function(){var e=[{name:"bank_user",checkType:"string",checkRule:"1,",errorMsg:"请输入开户人姓名"},{name:"bank_num",checkType:"int",checkRule:"15,",errorMsg:"请输入有效银行卡号"},{name:"open_bank",checkType:"string",checkRule:"1,",errorMsg:"请选择所属"},{name:"bank_opening",checkType:"string",checkRule:"1,",errorMsg:"请选择开户行"}],t=this.formParams,a=u.default.check(t,e);a?this._addBank():this.$ui.toast(u.default.error)},_addBank:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.prev=1,e.loading=!0,t.next=5,e.$api.BuilderBank(e.formParams,!1);case 5:r=t.sent,e.loading=!1,1==r.result?(a.$ui.toast("绑定成功"),uni.$emit("refresh_bank"),setTimeout((function(){uni.navigateBack({})}),1e3)):a.$ui.toast(r.msg),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log("请求结果false : "+t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()}}};t.default=o},3605:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[{value:"ICBC",text:"中国工商银行"},{value:"ABC",text:"中国农业银行"},{value:"BOC",text:"中国银行"},{value:"CCB",text:"中国建设银行"},{value:"PSBC",text:"中国邮政储蓄银行"},{value:"COMM",text:"交通银行"},{value:"CMB",text:"招商银行"},{value:"SPDB",text:"上海浦东发展银行"},{value:"CIB",text:"兴业银行"},{value:"HXBANK",text:"华夏银行"},{value:"GDB",text:"广东发展银行"},{value:"CMBC",text:"中国民生银行"},{value:"CITIC",text:"中信银行"},{value:"CEB",text:"中国光大银行"},{value:"SPABANK",text:"平安银行"},{value:"FJHXBC",text:"福建海峡银行"}],n=r;t.default=n},"6a24":function(e,t,a){"use strict";var r=a("220e"),n=a.n(r);n.a},"6ab2":function(e,t,a){"use strict";a("c975"),a("a9e3"),a("4d63"),a("ac1f"),a("25f0"),a("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={error:"",check:function(e,t){for(var a=0;a<t.length;a++){if(!t[a].checkType)return!0;if(!t[a].name)return!0;if(!t[a].errorMsg)return!0;if(!e[t[a].name])return this.error=t[a].errorMsg,!1;switch(t[a].checkType){case"string":var r=new RegExp("^.{"+t[a].checkRule+"}$");if(!r.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"int":r=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[a].checkRule+"}$");if(!r.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[a].name]))return this.error=t[a].errorMsg,!1;var n=t[a].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[t[a].name]>n[1]||e[t[a].name]<n[0])return this.error=t[a].errorMsg,!1;break;case"betweenD":r=/^-?[1-9][0-9]?$/;if(!r.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;n=t[a].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[t[a].name]>n[1]||e[t[a].name]<n[0])return this.error=t[a].errorMsg,!1;break;case"betweenF":r=/^-?[0-9][0-9]?.+[0-9]+$/;if(!r.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;n=t[a].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[t[a].name]>n[1]||e[t[a].name]<n[0])return this.error=t[a].errorMsg,!1;break;case"same":if(e[t[a].name]!=t[a].checkRule)return this.error=t[a].errorMsg,!1;break;case"notsame":if(e[t[a].name]==t[a].checkRule)return this.error=t[a].errorMsg,!1;break;case"email":r=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!r.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"phoneno":r=/^1[0-9]{10,10}$/;if(!r.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"zipcode":r=/^[0-9]{6}$/;if(!r.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"reg":r=new RegExp(t[a].checkRule);if(!r.test(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"in":if(-1==t[a].checkRule.indexOf(e[t[a].name]))return this.error=t[a].errorMsg,!1;break;case"notnull":if(null==e[t[a].name]||e[t[a].name].length<1)return this.error=t[a].errorMsg,!1;break}}return!0},isNumber:function(e){return e=Number(e),NaN!=e}},n=r=r;t.default=n},7595:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r}));var r={tuiIcon:a("9c13").default,tuiButton:a("a2ae").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"pages"},[a("v-uni-view",{staticClass:"title"},[e._v("请填写持卡人信息")]),a("v-uni-view",{staticClass:"bankBox"},[a("v-uni-view",{staticClass:"inputBox flex flex_center"},[a("v-uni-view",{staticClass:"label"},[e._v("持卡人")]),a("v-uni-input",{staticClass:"f1",attrs:{type:"text",placeholder:"请输入持卡人",name:"bank_user"},model:{value:e.formParams.bank_user,callback:function(t){e.$set(e.formParams,"bank_user",t)},expression:"formParams.bank_user"}})],1),a("v-uni-view",{staticClass:"inputBox flex flex_center"},[a("v-uni-view",{staticClass:"label"},[e._v("银行卡号")]),a("v-uni-input",{staticClass:"f1",attrs:{type:"number",name:"bank_num",placeholder:"请输入银行卡号"},model:{value:e.formParams.bank_num,callback:function(t){e.$set(e.formParams,"bank_num",t)},expression:"formParams.bank_num"}})],1),a("v-uni-view",{staticClass:"inputBox flex flex_center"},[a("v-uni-view",{staticClass:"label"},[e._v("所属银行")]),a("v-uni-view",{staticClass:"f1"},[a("v-uni-picker",{attrs:{value:e.index,range:e.bankList,"range-key":"text"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-input "},[e._v(e._s(e.formParams.open_bank?e.formParams.open_bank:"请选择开户行"))])],1)],1),a("tui-icon",{staticStyle:{"margin-left":"20rpx"},attrs:{name:"arrowright",size:20,color:"#333"}})],1),a("v-uni-view",{staticClass:"inputBox flex flex_center"},[a("v-uni-view",{staticClass:"label"},[e._v("开户行")]),a("v-uni-input",{staticClass:"f1",attrs:{type:"text",name:"bank_opening",placeholder:"请输入开户行"},model:{value:e.formParams.bank_opening,callback:function(t){e.$set(e.formParams,"bank_opening",t)},expression:"formParams.bank_opening"}})],1)],1),a("v-uni-view",{staticStyle:{padding:"72rpx 30rpx"}},[a("tui-button",{attrs:{type:"primary",shape:"circle",disabled:!1,loading:e.loading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("确认添加")])],1)],1)},i=[]},"839d":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".pages[data-v-d57a9dd4]{width:100%;min-height:100vh}.pages .title[data-v-d57a9dd4]{padding:%?24?% %?20?%}.pages .bankBox[data-v-d57a9dd4]{background:#fff;padding:0 %?20?%;margin-bottom:%?16?%}.pages .bankBox .inputBox[data-v-d57a9dd4]{line-height:%?88?%;height:%?88?%;border-bottom:%?1?% solid #e5e5e5}.pages .bankBox .inputBox[data-v-d57a9dd4]:last-child{border-bottom:none}.pages .bankBox .inputBox .label[data-v-d57a9dd4]{width:%?172?%}.pages .bankBox .inputBox .getYZM[data-v-d57a9dd4]{height:%?56?%;padding:0 %?20?%;border-radius:%?28?%;background:var(--cl_primary);color:#fff;font-size:%?24?%}",""]),e.exports=t},8566:function(e,t,a){"use strict";a.r(t);var r=a("7595"),n=a("aa29");for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);a("6a24");var s,u=a("f0c5"),o=Object(u["a"])(n["default"],r["b"],r["c"],!1,null,"d57a9dd4",null,!1,r["a"],s);t["default"]=o.exports},aa29:function(e,t,a){"use strict";a.r(t);var r=a("34cf"),n=a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);t["default"]=n.a}}]);